var crud = require('CrudFile');


var win = Ti.UI.createWindow({
				height : '470dp',
				width : 320
			});
exports.win = win;
		
			var picTabard = Ti.UI.createImageView({
				height : Ti.UI.setHeight,
				width : Ti.UI.setWidth,
				image : 'guild_tabard.png'
			});
		
			var characterScroll = Ti.UI.createScrollView({
				layout : 'vertical',
				height : '470dp',
				width : 320,
				showVerticalScrollIndicator : true
			});
		
			wowListTemplate = {
				properties : 
				{
					top : 20,
					height : 60
				},
				childTemplates : 
				[
					{
						type : "Ti.UI.Label",
						bindId : 'name',
						properties : 
						{
							color : "black",
							font : 
							{
								fontSize : 18,
								fontFamily : "Arial",
								fontWeight : "bold"
							},
							left : 20,
							top : 5
						}
					}, 
					{
						type : "Ti.UI.Label",
						bindId : 'division',
						properties : 
						{
							color : "black",
							font : 
							{
								fontSize : 14,
								fontFamily : "Arial"
							},
							right : 25,
							top : 10
						},
					}, 
					{
						type : "Ti.UI.Label",
						bindId : 'level',
						properties : 
						{
							color : "grey",
							font : 
							{
								fontSize : 14,
								fontFamily : "Arial"
							},
							left : 20,
							top : 40
						}
					}, 
					{
						type : "Ti.UI.Label",
						bindId : 'acheive',
						properties : 
						{
							color : "black",
							font : 
							{
								fontSize : 14,
								fontFamily : "Arial"
							},
							right : 125,
							top : 40
						},
					}
				]
			};
		
			//API Object Info
			var secList = Ti.UI.createListSection({
			});
			var apiListView = Ti.UI.createListView({
				// top : 20,
				opacity : .8,
				templates : {
					'defaultTemplate' : wowListTemplate
				},
				defaultItemTemplate : 'defaultTemplate'
			});
		
			apiListView.addEventListener('itemclick', function() {
				// Ti.API.info('Save Begin');
				var saveDia = Ti.UI.createAlertDialog({
					title : 'Save Member?',
					buttonNames : ['Cancel', 'Save']
				});
				saveDia.addEventListener('click', function(c) {
					if (c.index === 1) {
						crudSave.savefunc();
						Ti.API.info('Saved');
					} else {
						null;
					}
				});
				saveDia.show();
			});
		
			secList.setItems(crud.guildData);
			apiListView.sections = [secList];
			characterScroll.add(apiListView);
			win.add(picTabard, characterScroll);
			win.open();




 
// var tableWin = Ti.UI.createWindow({
	// title : 'Council Members',
	// backgroundColor : '#fff'
// });
// exports.tableWin = tableWin;
// 
// var picTabard = Ti.UI.createImageView({
// 	
	// height : Ti.UI.setHeight,
	// width : Ti.UI.setWidth,
	// image : 'guild_tabard.png'
// });
// 
// var searchbar = Ti.UI.createSearchBar({
	// top : 0,
	// hintText : 'Search',
	// barColor : '#fff'
// });
// 
// var memTable = Titanium.UI.createTableView({
	// top : '44dp',
	// search : searchbar,
	// font : {
		// fontStyle : 'Helvetica',
		// fontSize : '12dp'
	// },
	// opacity : .8
// });
// 
// var data = [];
// 
// memTable.addEventListener('click', function(e) {
	// crud.editWin();
	// console.log(e.rowData.name);
	// console.log(e.rowData.division);
	// console.log(e.rowData.level);
	// console.log(e.rowData.acheive);
	// console.log(e.rowData.title);
// });
// 
// memTable.setData(data);
// tableWin.add(searchbar);
// tableWin.add(picTabard, searchbar, memTable);
// tableWin.open(); 