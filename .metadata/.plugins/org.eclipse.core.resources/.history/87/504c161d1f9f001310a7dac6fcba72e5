var crud = require('CrudFile');

var fWin = Ti.UI.createWindow({
	title : 'Favorite Members',
	backgroundImage : 'guild_tabard.png',
	top : 60,
	bottom : 60
});
exports.fWin = fWin;

var saveMem = Titanium.UI.createTableView({
	opacity : .8,
	id : crud.id,
	font : {
		fontStyle : 'Helvetica',
		fontSize : '12dp'
	}
});

saveMem.addEventListener('click', function() {
	var savedWin = Ti.UI.createWindow({
		// title : name,
		backgroundColor : '#fff'
	});

	var saveNav = Ti.UI.iOS.createNavigationWindow({
		window : savedWin
	});

	var cancel = Ti.UI.createButton({
		systemButton : Ti.UI.iPhone.SystemButton.CANCEL
	});
	savedWin.setLeftNavButton(cancel);

	cancel.addEventListener('click', function() {
		saveNav.close();
		savedWin.close();
	});

	// var nameView = Ti.UI.createLabel({
	// top : '75dp',
	// left : 35,
	// text : 'Name: ' + name
	// });
	//
	// var lvlView = Ti.UI.createLabel({
	// top : '175dp',
	// left : 35,
	// text : 'Level: ' + level
	// });
	//
	// var achView = Ti.UI.createLabel({
	// top : '125dp',
	// left : 35,
	// text : 'Acheivment Points: ' + acheive
	// });
	//
	// var divView = Ti.UI.createLabel({
	// top : '225dp',
	// left : 35,
	// text : 'Class: ' + division
	// });

	var editBTN = Ti.UI.createButton({
		systemButton : Ti.UI.iPhone.SystemButton.EDIT
	});
	// editBTN.addEventListener('click', crud.edit);
	editBTN.addEventListener('click', function() {
		crud.edit();
		savedWin.close();
		saveNav.close();
		alert(' is Deleted');
	});

	savedWin.setRightNavButton(editBTN);
	// savedWin.add(nameView, lvlView, achView, divView);
	saveNav.open();
});

// Main Code
saveMem.setData(crud.guildData);
fWin.add(saveMem);
fWin.open(); 